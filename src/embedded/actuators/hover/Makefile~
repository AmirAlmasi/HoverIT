pressure: pressure_loop.c pressure_loop.h pressure_sensor.c pressure_sensor.h main.c 
	gcc -o pressure pressure_loop.c main.c pressure_sensor.c -g -I. -fprofile-arcs -ftest-coverage $(EXTRAGCCFLAGS)

test: pressure_loop.c pressure_loop.h pressure_sensor.c pressure_sensor.h
	gcc -o pressure_loop.o -c pressure_loop.c -I.$(EXTRAGCCFLAGS)
	gcc -o pressure_sensor.o -c pressure_sensor.c -I.$(EXTRAGCCFLAGS)

clean:
	rm -f *.o pressure pressure.exe

gcovcalc: EXTRAGCCFLAGS+= -fprofile-arcs -ftest-coverage
gcovcalc: pressure

